load("//tools:lisp.bzl", "lisp_library", "lisp_test")

lisp_library(
    name = "auth",
    deps = [
        "//quicklisp:cl-pass",
        "//quicklisp:log4cl",
        "//quicklisp:cl-fad",
        "//quicklisp:str",
        "//quicklisp:session-token",
        "//quicklisp:hunchentoot",
        "//third-party/bknr.datastore:bknr.datastore",
    ],
    srcs = [
        "package.lisp",
        "auth.lisp",
    ],
    visibility = [
        "PUBLIC",
    ],
)

lisp_test(
    name = "tests",
    deps = [
        ":auth",
        "//src/util:fiveam",
        "//src/util:store",
        "//src/util:testing",
    ],
    srcs = [
        "test-auth.lisp",
    ],
)
